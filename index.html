<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tarawih Schema â€” Ramadan 2026</title>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet" />
  <style>
    :root {
      --primary: #24645d;
      --primary-dark: #1a4a44;
      --gold: #c9a84c;
      --gold-light: #e8c97a;
      --cream: #f7f4ef;
      --white: #ffffff;
      --text: #1a1a1a;
      --muted: #6b7280;
      --today-bg: #e8f7f0;
      --today-green: #3dba7e;
      --abdurrahman: #e8630a;
      --saed: #d4a800;
      --noor: #2980b9;
      --abdul: #2c2c2c;
      --mohammed: #219150;
      --yacquub: #7d3aac;
      --guest: #8e9eab;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { background: var(--cream); font-family: 'DM Sans', sans-serif; color: var(--text); -webkit-text-size-adjust: 100%; }

    /* HEADER */
    header { background: var(--primary); padding: 52px 20px 72px; text-align: center; position: relative; overflow: hidden; }
    header::before { content: ''; position: absolute; inset: 0; background: radial-gradient(ellipse at 15% 60%, rgba(201,168,76,0.14) 0%, transparent 55%); }
    .ornament { display: flex; align-items: center; justify-content: center; gap: 12px; margin-bottom: 20px; position: relative; z-index: 2; }
    .orn-line { height: 1px; width: 50px; }
    .orn-line.l { background: linear-gradient(to right, transparent, var(--gold)); }
    .orn-line.r { background: linear-gradient(to left, transparent, var(--gold)); }
    .orn-diamond { width: 7px; height: 7px; background: var(--gold); transform: rotate(45deg); }
    .orn-dot { width: 3px; height: 3px; background: var(--gold-light); border-radius: 50%; }
    header h1 { font-family: 'Cormorant Garamond', serif; font-size: clamp(1.8rem, 6vw, 3.2rem); font-weight: 600; color: var(--white); letter-spacing: .03em; line-height: 1.2; position: relative; z-index: 2; }
    .header-address { margin-top: 20px; position: relative; z-index: 2; display: flex; flex-direction: column; align-items: center; gap: 10px; }
    .header-address .addr-text { display: flex; align-items: center; gap: 6px; color: rgba(255,255,255,.65); font-size: .82rem; }
    .header-address a { display: inline-flex; align-items: center; gap: 6px; background: #fff; color: var(--primary-dark); font-size: .75rem; font-weight: 600; letter-spacing: .08em; text-transform: uppercase; padding: 7px 18px; border-radius: 30px; text-decoration: none; box-shadow: 0 2px 12px rgba(0,0,0,.15); }
    .wave { background: var(--primary); line-height: 0; }
    .wave svg { display: block; width: 100%; }

    /* MAIN */
    main { max-width: 960px; margin: 0 auto; padding: 32px 14px 80px; }

    /* TODAY CARD */
    .today-card { display: none; background: var(--white); border-radius: 20px; box-shadow: 0 8px 32px rgba(36,100,93,.14); overflow: hidden; margin-bottom: 28px; }
    .today-card-top { background: linear-gradient(135deg, var(--primary-dark), var(--primary)); padding: 20px 20px 16px; display: flex; align-items: center; gap: 14px; }
    .today-avatar { width: 52px; height: 52px; border-radius: 50%; background: rgba(255,255,255,.18); display: flex; align-items: center; justify-content: center; font-family: 'Cormorant Garamond', serif; font-size: 1.5rem; font-weight: 700; color: #fff; flex-shrink: 0; border: 2px solid rgba(255,255,255,.25); }
    .today-card-info { flex: 1; }
    .today-card-label { font-size: .65rem; letter-spacing: .16em; text-transform: uppercase; color: rgba(255,255,255,.55); display: block; margin-bottom: 3px; }
    .today-card-name { font-family: 'Cormorant Garamond', serif; font-size: 1.5rem; font-weight: 600; color: #fff; line-height: 1.1; display: block; }
    .today-card-date { font-size: .78rem; color: rgba(255,255,255,.5); display: block; margin-top: 2px; }
    .today-card-bottom { padding: 14px 20px; display: flex; align-items: flex-start; justify-content: space-between; gap: 12px; flex-wrap: wrap; }
    .today-bottom-left { display: flex; flex-direction: column; gap: 8px; flex: 1; }
    .today-pages { display: flex; flex-direction: column; }
    .today-pages-label { font-size: .65rem; text-transform: uppercase; letter-spacing: .12em; color: var(--muted); }
    .today-pages-value { font-family: 'Cormorant Garamond', serif; font-size: 1.4rem; font-weight: 600; color: var(--primary-dark); }
    .today-surahs-label { font-size: .65rem; text-transform: uppercase; letter-spacing: .12em; color: var(--muted); margin-top: 2px; }
    .today-surahs-value { font-size: .82rem; color: var(--text); font-weight: 500; line-height: 1.5; }
    .today-scroll-btn { display: inline-flex; align-items: center; gap: 6px; background: var(--primary); color: #fff; font-size: .75rem; font-weight: 500; letter-spacing: .08em; text-transform: uppercase; padding: 8px 16px; border-radius: 30px; border: none; cursor: pointer; font-family: inherit; white-space: nowrap; align-self: flex-start; margin-top: 4px; }

    /* SECTION TITLE */
    .section-title { text-align: center; margin-bottom: 20px; }
    .section-title h2 { font-family: 'Cormorant Garamond', serif; font-size: clamp(1.3rem, 4vw, 1.9rem); font-weight: 600; color: var(--primary-dark); }
    .divider { display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 10px; }
    .divider span { height: 1px; width: 40px; background: var(--gold); display: block; }
    .divider i { width: 5px; height: 5px; background: var(--gold); transform: rotate(45deg); display: block; }

    /* LEGEND */
    .legend { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; margin-bottom: 20px; }
    .legend-item { display: flex; align-items: center; gap: 6px; background: var(--white); border-radius: 30px; padding: 5px 12px 5px 8px; box-shadow: 0 2px 8px rgba(0,0,0,.06); font-size: .78rem; font-weight: 500; }
    .legend-dot { width: 10px; height: 10px; border-radius: 50%; flex-shrink: 0; }

    /* TABLE */
    .table-wrap { overflow-x: auto; border-radius: 16px; box-shadow: 0 6px 32px rgba(36,100,93,.12); }
    table { width: 100%; border-collapse: collapse; background: var(--white); font-size: .875rem; }
    thead tr { background: var(--primary); }
    thead th { font-size: .7rem; font-weight: 500; text-transform: uppercase; letter-spacing: .1em; color: rgba(255,255,255,.7); padding: 14px 16px; text-align: left; white-space: nowrap; }
    tbody tr { border-bottom: 1px solid rgba(36,100,93,.07); transition: background .15s; border-left: 4px solid transparent; }
    tbody tr:last-child { border-bottom: none; }
    tbody tr:hover { background: rgba(36,100,93,.04); }
    tbody tr.today { background: var(--today-bg) !important; border-left-color: var(--today-green); }
    td { padding: 12px 16px; vertical-align: middle; }
    .td-dag { font-weight: 700; font-size: .95rem; color: var(--primary-dark); text-align: center; }
    .td-sidor { font-size: .8rem; color: var(--muted); white-space: nowrap; }
    .td-surah { font-size: .78rem; color: var(--primary-dark); max-width: 240px; line-height: 1.4; }
    .td-datum { font-size: .8rem; color: var(--muted); white-space: nowrap; }
    .td-datum.today-date { color: #1d7a4e; font-weight: 600; }
    .td-veckodag { font-size: .8rem; font-weight: 500; white-space: nowrap; }
    .fredag { color: #b45309; font-weight: 700; }
    .lordag { color: var(--primary-dark); }
    .sondag { color: #b45309; }
    .imam-chip { display: inline-flex; align-items: center; gap: 6px; padding: 4px 11px 4px 8px; border-radius: 30px; font-size: .78rem; font-weight: 500; color: #fff; white-space: nowrap; }
    .imam-chip .dot { width: 6px; height: 6px; border-radius: 50%; background: rgba(255,255,255,.35); flex-shrink: 0; }
    .imam-abdurrahman { background: var(--abdurrahman); }
    .imam-saed { background: var(--saed); color: #1a1a1a !important; }
    .imam-saed .dot { background: rgba(0,0,0,.15) !important; }
    .imam-noor { background: var(--noor); }
    .imam-abdul { background: var(--abdul); }
    .imam-mohammed { background: var(--mohammed); }
    .imam-yacquub { background: var(--yacquub); }
    .imam-guest { background: var(--guest); color: #1a1a1a !important; }
    .imam-guest .dot { background: rgba(0,0,0,.15) !important; }
    .today-badge { display: inline-block; background: var(--today-green); color: #fff; font-size: .6rem; font-weight: 700; text-transform: uppercase; letter-spacing: .08em; padding: 2px 6px; border-radius: 8px; margin-left: 5px; vertical-align: middle; }

    /* TOOLTIP */
    .surah-cell { position: relative; cursor: pointer; }
    .surah-names { font-size: .78rem; color: var(--primary-dark); line-height: 1.5; }
    .surah-names span { display: inline; }

    .tooltip-box {
      display: none;
      position: absolute;
      left: 0; top: calc(100% + 6px);
      background: var(--primary-dark);
      color: #fff;
      font-size: .75rem;
      font-weight: 500;
      padding: 7px 12px;
      border-radius: 8px;
      white-space: nowrap;
      z-index: 100;
      box-shadow: 0 4px 16px rgba(0,0,0,.25);
      letter-spacing: .02em;
      pointer-events: none;
    }
    .tooltip-box::before {
      content: '';
      position: absolute;
      top: -5px; left: 12px;
      border-left: 5px solid transparent;
      border-right: 5px solid transparent;
      border-bottom: 5px solid var(--primary-dark);
    }
    /* Desktop: show on hover */
    @media (hover: hover) {
      .surah-cell:hover .tooltip-box { display: block; }
    }
    /* Mobile: show on click (toggled via JS) */
    .tooltip-box.visible { display: block; }

    /* MOBILE CARDS */
    .mobile-cards { display: none; }
    .day-card-mobile { background: var(--white); border-radius: 14px; padding: 14px 16px; margin-bottom: 10px; box-shadow: 0 2px 12px rgba(36,100,93,.08); border-left: 4px solid transparent; }
    .day-card-mobile.today { background: var(--today-bg); border-left-color: var(--today-green); }
    .dcm-top { display: flex; align-items: center; gap: 14px; margin-bottom: 8px; }
    .dcm-dag { font-weight: 700; font-size: 1.3rem; color: var(--primary-dark); min-width: 32px; text-align: center; flex-shrink: 0; }
    .dcm-dag.today-day { color: #1d7a4e; }
    .dcm-body { flex: 1; min-width: 0; }
    .dcm-imam { margin-bottom: 5px; }
    .dcm-meta { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; }
    .dcm-date { font-size: .75rem; color: var(--muted); }
    .dcm-day-label { font-size: .75rem; font-weight: 500; }
    .dcm-pages { font-size: .75rem; color: var(--muted); background: rgba(36,100,93,.08); padding: 2px 8px; border-radius: 10px; }
    .dcm-surahs {
      margin-left: 46px; font-size: .78rem; color: var(--primary-dark);
      background: rgba(36,100,93,.06); border-radius: 8px; padding: 6px 10px; line-height: 1.5;
      position: relative; cursor: pointer;
    }
    .dcm-surahs-label { font-size: .65rem; text-transform: uppercase; letter-spacing: .1em; color: var(--muted); display: block; margin-bottom: 2px; }
    .dcm-tooltip {
      display: none;
      margin-top: 6px;
      background: var(--primary-dark);
      color: #fff;
      font-size: .75rem;
      font-weight: 500;
      padding: 6px 10px;
      border-radius: 7px;
      letter-spacing: .02em;
    }
    .dcm-tooltip.visible { display: block; }

    footer { background: var(--primary-dark); text-align: center; padding: 24px 20px; color: rgba(255,255,255,.45); font-size: .8rem; letter-spacing: .05em; }
    footer strong { color: var(--gold); }

    @keyframes fadeUp { from { opacity: 0; transform: translateY(18px); } to { opacity: 1; transform: translateY(0); } }

    @media (max-width: 640px) {
      header { padding: 40px 16px 60px; }
      main { padding: 24px 12px 60px; }
      .table-wrap { display: none; }
      .mobile-cards { display: block; }
      .legend { display: none; }
    }
  </style>
</head>
<body>

<header>
  <div class="ornament">
    <div class="orn-line l"></div><div class="orn-dot"></div>
    <div class="orn-diamond"></div><div class="orn-dot"></div>
    <div class="orn-line r"></div>
  </div>
  <h1>Tarawih Schema<br>Ramadan 2026</h1>
  <div class="header-address">
    <div class="addr-text">
      <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
      TenstastrÃ¥ket 16, 163 61 SpÃ¥nga
    </div>
    <a href="https://www.google.com/maps/search/?api=1&query=TenstastrÃ¥ket+16,+163+61+SpÃ¥nga" target="_blank">
      <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/><circle cx="12" cy="10" r="3"/></svg>
      Hitta hit
    </a>
  </div>
</header>

<div class="wave">
  <svg viewBox="0 0 1440 56" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
    <path d="M0,28 C400,65 1040,-9 1440,28 L1440,0 L0,0 Z" fill="#24645d"/>
  </svg>
</div>

<main>

  <!-- TODAY CARD -->
  <div class="today-card" id="today-card">
    <div class="today-card-top">
      <div class="today-avatar" id="today-avatar">?</div>
      <div class="today-card-info">
        <span class="today-card-label">Dagens Imam</span>
        <span class="today-card-name" id="today-imam-name">â€”</span>
        <span class="today-card-date" id="today-date-label">â€”</span>
      </div>
    </div>
    <div class="today-card-bottom">
      <div class="today-bottom-left">
        <div class="today-pages">
          <span class="today-pages-label">Sidor idag</span>
          <span class="today-pages-value" id="today-pages">â€”</span>
        </div>
        <div>
          <span class="today-surahs-label">Suror</span>
          <span class="today-surahs-value" id="today-surahs">â€”</span>
        </div>
      </div>
      <button class="today-scroll-btn" onclick="scrollToToday()">â†“ Se i schemat</button>
    </div>
  </div>

  <!-- SECTION TITLE -->
  <div class="section-title">
    <h2>Imamernas BÃ¶neledning</h2>
    <div class="divider"><span></span><i></i><span></span></div>
  </div>

  <!-- LEGEND -->
  <div class="legend">
    <div class="legend-item"><div class="legend-dot" style="background:var(--abdurrahman)"></div>Abdurrahman Sudani</div>
    <div class="legend-item"><div class="legend-dot" style="background:var(--saed);border:1px solid #ccc"></div>Saed Magan</div>
    <div class="legend-item"><div class="legend-dot" style="background:var(--noor)"></div>Noor</div>
    <div class="legend-item"><div class="legend-dot" style="background:var(--abdul)"></div>Abdul Qadir</div>
    <div class="legend-item"><div class="legend-dot" style="background:var(--mohammed)"></div>Mohammed Haji</div>
    <div class="legend-item"><div class="legend-dot" style="background:var(--yacquub)"></div>Yacquub</div>
    <div class="legend-item"><div class="legend-dot" style="background:var(--guest);border:1px solid #ccc"></div>GÃ¤st</div>
  </div>

  <!-- DESKTOP TABLE -->
  <div class="table-wrap">
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Sidor</th>
          <th>Suror</th>
          <th>Imam</th>
          <th>Datum</th>
          <th>Dag</th>
        </tr>
      </thead>
      <tbody id="table-body"></tbody>
    </table>
  </div>

  <!-- MOBILE CARDS -->
  <div class="mobile-cards" id="mobile-cards"></div>

</main>

<footer>
  &copy; 2026 &nbsp;<strong>islam.nu</strong>&nbsp; â€” Tarawih Schema Ramadan 1447
</footer>

<script>
  // tooltip = "Surah:Aya â€“ Surah:Aya" format
  // surahs = display names without numbers
  const SCHEDULE = [
    {day:1,  sidor:'2â€“11',    imam:'abdurrahman', imamLabel:'Abdurrahman Sudani', datum:'2026-02-17', vecka:'Tisdag',   surahs:'Al-Baqarah',                                                                                                        tooltip:'2:1 â€“ 2:74'},
    {day:2,  sidor:'11â€“21',  imam:'saed',        imamLabel:'Saed Magan',         datum:'2026-02-18', vecka:'Onsdag',   surahs:'Al-Baqarah',                                                                                                        tooltip:'2:75 â€“ 2:141'},
    {day:3,  sidor:'22â€“31',  imam:'noor',        imamLabel:'Noor',               datum:'2026-02-19', vecka:'Torsdag',  surahs:'Al-Baqarah',                                                                                                        tooltip:'2:142 â€“ 2:202'},
    {day:4,  sidor:'32â€“41',  imam:'abdul',       imamLabel:'Abdul Qadir',        datum:'2026-02-20', vecka:'Fredag',   surahs:'Al-Baqarah',                                                                                                        tooltip:'2:203 â€“ 2:265'},
    {day:5,  sidor:'42â€“51',  imam:'mohammed',    imamLabel:'Mohammed Haji',      datum:'2026-02-21', vecka:'LÃ¶rdag',   surahs:'Al-Baqarah, Ali Imran',                                                                                             tooltip:'2:266 â€“ 3:14'},
    {day:6,  sidor:'51â€“62',  imam:'yacquub',     imamLabel:'Yacquub',            datum:'2026-02-22', vecka:'SÃ¶ndag',   surahs:'Ali Imran',                                                                                                         tooltip:'3:15 â€“ 3:92'},
    {day:7,  sidor:'62â€“72',  imam:'abdurrahman', imamLabel:'Abdurrahman Sudani', datum:'2026-02-23', vecka:'MÃ¥ndag',   surahs:'Ali Imran',                                                                                                         tooltip:'3:93 â€“ 3:170'},
    {day:8,  sidor:'72â€“81',  imam:'yacquub',     imamLabel:'Saed Magan',         datum:'2026-02-24', vecka:'Tisdag',   surahs:'Ali Imran, An-Nisa',                                                                                                tooltip:'3:171 â€“ 4:23'},
    {day:9,  sidor:'82â€“92',  imam:'abdurrahman', imamLabel:'Abdurrahman Sudani', datum:'2026-02-25', vecka:'Onsdag',   surahs:'An-Nisa',                                                                                                           tooltip:'4:24 â€“ 4:87'},
    {day:10, sidor:'92â€“101', imam:'saed',        imamLabel:'Saed Magan',         datum:'2026-02-26', vecka:'Torsdag',  surahs:'An-Nisa',                                                                                                           tooltip:'4:88 â€“ 4:147'},
    {day:11, sidor:'102â€“106',imam:'mohammed',    imamLabel:'Mohammed Haji',      datum:'2026-02-27', vecka:'Fredag',   surahs:'An-Nisa, Fatir',                                                                                                    tooltip:'4:148 â€“ 35:30'},
    {day:12, sidor:'438â€“449',imam:'saed',        imamLabel:'Saed Magan',         datum:'2026-02-28', vecka:'LÃ¶rdag',   surahs:'Fatir, Ya-Sin',                                                                                                     tooltip:'35:31 â€“ 36:82'},
    {day:13, sidor:'449â€“458',imam:'guest',       imamLabel:'GÃ¤st',               datum:'2026-03-01', vecka:'SÃ¶ndag',   surahs:'Ya-Sin, As-Saffat, Sad',                                                                                            tooltip:'36:83 â€“ 38:88'},
    {day:14, sidor:'458â€“467',imam:'saed',        imamLabel:'Saed Magan',         datum:'2026-03-02', vecka:'MÃ¥ndag',   surahs:'Az-Zumar',                                                                                                          tooltip:'39:1 â€“ 39:75'},
    {day:15, sidor:'467â€“476',imam:'noor',        imamLabel:'Noor',               datum:'2026-03-03', vecka:'Tisdag',   surahs:'Ghafir',                                                                                                            tooltip:'40:1 â€“ 40:85'},
    {day:16, sidor:'476â€“486',imam:'mohammed',    imamLabel:'Mohammed Haji',      datum:'2026-03-04', vecka:'Onsdag',   surahs:'Fussilat, Ash-Shura',                                                                                               tooltip:'41:1 â€“ 42:26'},
    {day:17, sidor:'486â€“495',imam:'saed',        imamLabel:'Saed Magan',         datum:'2026-03-05', vecka:'Torsdag',  surahs:'Ash-Shura, Az-Zukhruf',                                                                                             tooltip:'42:27 â€“ 43:89'},
    {day:18, sidor:'496â€“506',imam:'saed',        imamLabel:'Saed Magan',         datum:'2026-03-06', vecka:'Fredag',   surahs:'Ad-Dukhan, Al-Jathiyah, Al-Ahqaf',                                                                                  tooltip:'44:1 â€“ 46:35'},
    {day:19, sidor:'507â€“515',imam:'yacquub',     imamLabel:'Yacquub',            datum:'2026-03-07', vecka:'LÃ¶rdag',   surahs:'Muhammad, Al-Fath',                                                                                                 tooltip:'47:1 â€“ 48:29'},
    {day:20, sidor:'515â€“523',imam:'yacquub',     imamLabel:'Yacquub',            datum:'2026-03-08', vecka:'SÃ¶ndag',   surahs:'Al-Hujurat, Qaf, Adh-Dhariyat',                                                                                     tooltip:'49:1 â€“ 51:60'},
    {day:21, sidor:'523â€“531',imam:'noor',        imamLabel:'Noor',               datum:'2026-03-09', vecka:'MÃ¥ndag',   surahs:'At-Tur, An-Najm, Al-Qamar',                                                                                         tooltip:'52:1 â€“ 54:55'},
    {day:22, sidor:'531â€“539',imam:'mohammed',    imamLabel:'Mohammed Haji',      datum:'2026-03-10', vecka:'Tisdag',   surahs:'Ar-Rahman, Al-Waqiah, Al-Hadid',                                                                                    tooltip:'55:1 â€“ 57:15'},
    {day:23, sidor:'539â€“548',imam:'abdurrahman', imamLabel:'Abdurrahman Sudani', datum:'2026-03-11', vecka:'Onsdag',   surahs:'Al-Hadid, Al-Mujadilah, Al-Hashr',                                                                                  tooltip:'57:16 â€“ 59:24'},
    {day:24, sidor:'549â€“557',imam:'abdul',       imamLabel:'Abdul Qadir',        datum:'2026-03-12', vecka:'Torsdag',  surahs:'Al-Mumtahanah, As-Saf, Al-Jumuah, Al-Munafiqun, At-Taghabun',                                                       tooltip:'60:1 â€“ 64:18'},
    {day:25, sidor:'558â€“566',imam:'guest',       imamLabel:'GÃ¤st',               datum:'2026-03-13', vecka:'Fredag',   surahs:'At-Talaq, At-Tahrim, Al-Mulk, Al-Qalam',                                                                            tooltip:'65:1 â€“ 68:52'},
    {day:26, sidor:'566â€“574',imam:'abdurrahman', imamLabel:'Abdurrahman Sudani', datum:'2026-03-14', vecka:'LÃ¶rdag',   surahs:'Al-Haqqah, Al-Maarij, Nuh, Al-Jinn, Al-Muzzammil',                                                                  tooltip:'69:1 â€“ 73:20'},
    {day:27, sidor:'575â€“583',imam:'noor',        imamLabel:'Noor',               datum:'2026-03-15', vecka:'SÃ¶ndag',   surahs:'Al-Muddaththir, Al-Qiyamah, Al-Insan, Al-Mursalat, An-Naba',                                                         tooltip:'74:1 â€“ 78:40'},
    {day:28, sidor:'583â€“591',imam:'mohammed',    imamLabel:'Mohammed Haji',      datum:'2026-03-16', vecka:'MÃ¥ndag',   surahs:'An-Naziat, Abasa, At-Takwir, Al-Infitar, Al-Mutaffifin, Al-Inshiqaq, Al-Buruj, At-Tariq, Al-Ala',                    tooltip:'79:1 â€“ 87:19'},
    {day:29, sidor:'592â€“604',imam:'yacquub',     imamLabel:'Yacquub',            datum:'2026-03-17', vecka:'Tisdag',   surahs:'Al-Ghashiyah, Al-Fajr, Al-Balad, Ash-Shams, Al-Layl, Ad-Duha, Ash-Sharh, At-Tin, Al-Alaq, Al-Qadr, Al-Bayyinah, Az-Zalzalah, Al-Adiyat, Al-Qariah, At-Takathur, Al-Asr, Al-Humazah, Al-Fil, Quraysh, Al-Maun, Al-Kawthar, Al-Kafirun, An-Nasr, Al-Masad, Al-Ikhlas, Al-Falaq, An-Nas', tooltip:'88:1 â€“ 114:6'},
    {day:30, sidor:'2â€“11',   imam:'noor',        imamLabel:'Noor',               datum:'2026-03-18', vecka:'Onsdag',   surahs:'Al-Baqarah',                                                                                                        tooltip:'2:1 â€“ 2:74'},
  ];

  const DAYS   = ['SÃ¶ndag','MÃ¥ndag','Tisdag','Onsdag','Torsdag','Fredag','LÃ¶rdag'];
  const MONTHS = ['januari','februari','mars','april','maj','juni','juli','augusti','september','oktober','november','december'];
  const today  = new Date().toISOString().slice(0, 10);

  function scrollToToday() {
    const el = document.getElementById('today-row');
    if (!el) return;
    const y = el.getBoundingClientRect().top + window.scrollY - 80;
    window.scrollTo({ top: y, behavior: 'smooth' });
  }

  // Close all tooltips on outside click (mobile)
  document.addEventListener('click', (e) => {
    if (!e.target.closest('.surah-cell') && !e.target.closest('.dcm-surahs')) {
      document.querySelectorAll('.tooltip-box.visible, .dcm-tooltip.visible').forEach(el => el.classList.remove('visible'));
    }
  });

  // Build desktop table rows
  const tbody = document.getElementById('table-body');
  SCHEDULE.forEach(row => {
    const isToday = row.datum === today;
    const tr = document.createElement('tr');
    if (isToday) { tr.classList.add('today'); tr.id = 'today-row'; }
    const veckaClass = row.vecka === 'Fredag' ? 'fredag' : row.vecka === 'LÃ¶rdag' ? 'lordag' : row.vecka === 'SÃ¶ndag' ? 'sondag' : '';
    const badge = isToday ? '<span class="today-badge">Idag</span>' : '';

    tr.innerHTML = `
      <td class="td-dag">${row.day}</td>
      <td class="td-sidor">${row.sidor}</td>
      <td class="td-surah surah-cell" tabindex="0">
        <div class="surah-names">${row.surahs}</div>
        <div class="tooltip-box">ðŸ“– ${row.tooltip}</div>
      </td>
      <td><span class="imam-chip imam-${row.imam}"><span class="dot"></span>${row.imamLabel}</span></td>
      <td class="td-datum ${isToday ? 'today-date' : ''}">${row.datum}${badge}</td>
      <td class="td-veckodag ${veckaClass}">${row.vecka}</td>
    `;

    // Mobile click toggle for tooltip
    const cell = tr.querySelector('.surah-cell');
    cell.addEventListener('click', (e) => {
      const tip = cell.querySelector('.tooltip-box');
      const isVisible = tip.classList.contains('visible');
      document.querySelectorAll('.tooltip-box.visible').forEach(el => el.classList.remove('visible'));
      if (!isVisible) tip.classList.add('visible');
      e.stopPropagation();
    });

    tbody.appendChild(tr);
  });

  // Build mobile cards
  const container = document.getElementById('mobile-cards');
  SCHEDULE.forEach(row => {
    const isToday = row.datum === today;
    const card = document.createElement('div');
    card.className = 'day-card-mobile' + (isToday ? ' today' : '');
    if (isToday) card.id = 'today-row';
    const veckaClass = row.vecka === 'Fredag' ? 'fredag' : row.vecka === 'LÃ¶rdag' ? 'lordag' : row.vecka === 'SÃ¶ndag' ? 'sondag' : '';
    const badge = isToday ? '<span class="today-badge">Idag</span>' : '';
    card.innerHTML = `
      <div class="dcm-top">
        <div class="dcm-dag ${isToday ? 'today-day' : ''}">${row.day}</div>
        <div class="dcm-body">
          <div class="dcm-imam"><span class="imam-chip imam-${row.imam}"><span class="dot"></span>${row.imamLabel}</span></div>
          <div class="dcm-meta">
            <span class="dcm-date">${row.datum}${badge}</span>
            <span class="dcm-day-label ${veckaClass}">${row.vecka}</span>
            <span class="dcm-pages">s. ${row.sidor}</span>
          </div>
        </div>
      </div>
      <div class="dcm-surahs">
        <span class="dcm-surahs-label">Suror â€” tryck fÃ¶r detaljer</span>
        ${row.surahs}
        <div class="dcm-tooltip">ðŸ“– ${row.tooltip}</div>
      </div>
    `;

    // Toggle tooltip on tap
    const surahBox = card.querySelector('.dcm-surahs');
    surahBox.addEventListener('click', (e) => {
      const tip = surahBox.querySelector('.dcm-tooltip');
      const isVisible = tip.classList.contains('visible');
      document.querySelectorAll('.dcm-tooltip.visible').forEach(el => el.classList.remove('visible'));
      if (!isVisible) tip.classList.add('visible');
      e.stopPropagation();
    });

    container.appendChild(card);
  });

  // Populate today card
  const todayData = SCHEDULE.find(r => r.datum === today);
  if (todayData) {
    const d = new Date(today);
    document.getElementById('today-imam-name').textContent = todayData.imamLabel;
    document.getElementById('today-date-label').textContent = DAYS[d.getDay()] + ' ' + d.getDate() + ' ' + MONTHS[d.getMonth()];
    document.getElementById('today-pages').textContent = 'Sidor ' + todayData.sidor;
    document.getElementById('today-surahs').textContent = todayData.surahs + '  (' + todayData.tooltip + ')';
    document.getElementById('today-avatar').textContent = todayData.imamLabel.charAt(0);
    document.getElementById('today-card').style.display = 'block';
    setTimeout(() => {
      document.getElementById('today-card').scrollIntoView({ behavior: 'smooth', block: 'start' });
    }, 600);
  }
</script>
</body>
</html>
